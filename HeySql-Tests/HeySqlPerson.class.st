"
Simple test class to play with.
"
Class {
	#name : #HeySqlPerson,
	#superclass : #HeySql,
	#instVars : [
		'forname',
		'surname',
		'theGender'
	],
	#category : #'HeySql-Tests-Initialize'
}

{ #category : #'instance creation' }
HeySqlPerson class >> new [
	^ super new.
]

{ #category : #accessor }
HeySqlPerson class >> personsFindByForename: p1  surname: p2 [ 
	     "Autogenerated heysql-method"
	     | statement result |
	     statement := Statements at: 'personsFindByForename, surname'.
	     result := statement query: { p1. p2 }. 
	
	     ^ (self toObject: result).
	    
]

{ #category : #accessor }
HeySqlPerson class >> personsFindall [ 
	     "Autogenerated heysql-method"
	     | statement result |
	     statement := Statements at: 'personsFindall'.
	     result := statement query: {  }. 
	
	     ^ (self toObject: result).
	    
]

{ #category : #accessor }
HeySqlPerson >> forname [ 
	    "Autogenerated HeySql getter"
	    ^forname.
	  
]

{ #category : #accessor }
HeySqlPerson >> forname: x [  
	    "Autogenerated HeySql setter"
	    forname := x.
	  
]

{ #category : #db }
HeySqlPerson >> insert [
	   "HeySql autogenerated method for inserting objects"
	   | values res newId |
		values := DbFields collect: [ :field |
		  self perform: (field asSymbol).
		 ].
	   res := InsertDb query: values.
	   newId := ((res data) at: 1) at: 1.
	   self id: newId.
	   ^ res. 
	
]

{ #category : #accessor }
HeySqlPerson >> surname [ 
	    "Autogenerated HeySql getter"
	    ^surname.
	  
]

{ #category : #accessor }
HeySqlPerson >> surname: x [  
	    "Autogenerated HeySql setter"
	    surname := x.
	  
]

{ #category : #db }
HeySqlPerson >> update [
	   "HeySql autogenerated method for inserting objects"
	   | values res fields id |
	   fields := DbFields select: [ :f | f ~~ 'id' ].
		values := fields collect: [ :field |
		  self perform: (field asSymbol).
		 ].
	   id := self id.
	   res := UpdateDb query: values , {id}.
	   ^ res. 
	
]
